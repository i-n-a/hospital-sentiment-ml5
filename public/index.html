<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Hospital Sentiment Analysis</title>
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/marketing-dashboard.css">
  <script src="https://unpkg.com/ml5@1/dist/ml5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.11.1/lib/p5.js"></script>
</head>
<body>
  <header class="app-header">
    <nav class="nav-main">
      <a href="./index.html" class="nav-link nav-marketing">üìä Painel de Marketing</a>
      <a href="./ml-lab.html" class="nav-link nav-lab">üî¨ Laborat√≥rio de ML</a>
    </nav>
  </header>

  <main class="page-shell">
 
    <section class="tool-card">
      <div class="tool-block">
        <h2>Carregar CSV de coment√°rios</h2>
        <p class="helper">
          Ficheiro CSV com colunas, <code>coment√°rio</code> e <code>classificacao</code>.
          S√≥ a coluna de coment√°rio √© usada para a predi√ß√£o.
        </p>

        <input type="file" id="csvUpload" accept=".csv" />

        <div class="tool-card__actions">
          <button id="processCsvButton">Classificar CSV</button>
        </div>
      </div>
    </section>
   
    <div class="page-header-row">
      <div id="dashboard-wrapper">
        <div id="dashboard"></div>
      </div>
      <div class="printButton-wrapper">
        <button id="printButton" class="primary-ghost">
        Exportar relat√≥rio (PDF)
        </button>
      </div>
    </div>
  
    <section class="data-section">
      <details class="section-toggle" open>
        <summary>
          <div>
            Coment√°rios Analisados 
            <span id="commentsCount">(0)</span>
          </div>
          <span class="toggle-icon">+</span>
        </summary>
        
        <div class="data-controls">
          <input id="searchComments" placeholder="üîç Procurar coment√°rios...">
          <select id="sentimentFilter">
            <option value="all">Todos</option>
            <option value="negativo">Negativos</option>
            <option value="positivo">Positivos</option>
            <option value="neutro">Neutros</option>
          </select>
          <div>
            <button id="prevPage">‚Üê Anterior</button>
            <span id="pageInfo">P√°gina 1 de 17</span>
            <button id="nextPage">Pr√≥xima ‚Üí</button>
          </div>
          
        </div>
        
        <div id="data-list" class="data-grid">
          <!-- Populated by JS -->
        </div>
      </details>
    </section>

    <section class="tool-card tool-card--double">
      <div class="tool-block">
        <h2>Classificar novo coment√°rio</h2>
        <p class="helper">Cole aqui um coment√°rio em portugu√™s.</p>
        <textarea
          id="inputText"
          rows="3"
          placeholder="Cole aqui um coment√°rio em portugu√™s..."
        ></textarea>
        <div class="tool-card__actions">
          <button id="classifyButton">Classificar</button>
        </div>
        <div id="result" class="result-text"></div>
      </div>

      <div class="tool-block">
        <h2>Analisar lista de coment√°rios</h2>
        <p class="helper">Cole v√°rios coment√°rios, um por linha.</p>
        <textarea
          id="batchText"
          rows="4"
          placeholder="Um coment√°rio por linha‚Ä¶"
        ></textarea>
        <div class="tool-card__actions">
          <button id="batchButton">Classificar lista</button>
        </div>
        <div id="batchResult" class="result-text"></div>
      </div>
    </section>

  </main>

  <script type="module" src="./js/ml5/text-utils.js"></script>
  <script type="module" src="./js/pages/marketing-dashboard.js"></script>
</body>
</html>